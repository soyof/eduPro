import{d as b,a as T,m as k,r as u,c as q,v as L,w as M,p as O,o as l,b as a,e as t,t as d,F as h,q as v,h as $,k as B,u as J,j as x,_ as F}from"./index-DswlHMNH.js";import{S as H}from"./selfEmpty-BnX9DJ1_.js";import{u as P}from"./newsHooks-D2snx9rr.js";import{g as E,f as R}from"./utils-s55yd7uy.js";import"./services-Dqh1wXe-.js";const V={class:"news-dtl self-scrollbar-wrap"},j={class:"news-dtl-nav"},Q={class:"news-dtl-nav-item no-click"},z={class:"new-dtl-wrap self-scrollbar-wrap"},A={class:"news-dtl-header"},G={class:"news-dtl-header-title"},K={class:"news-dtl-header-other"},U={class:"news-dtl-content"},W={key:0,class:"news-dtl-content-header"},X=["src"],Y=["innerHTML"],Z={key:0,class:"news-dtl-footer"},ee={key:0,class:"news-dtl-item"},se={key:1,class:"news-dtl-item"},te=b({__name:"newsDtl",setup(ne){const{loading:D,getNewsInfo:S}=P();let w=[];const m=J();let o=T(k().query);const i=u(null),r=u(null),c=u(null),f=u(null),I=q(()=>e=>e?R(e,"yyyy-MM-dd"):"--"),_=()=>{const e=JSON.parse(JSON.stringify(w)).find(n=>n.key===o.key).list,s=e.findIndex(n=>n.id===o.id);i.value=e.find(n=>n.id===o.id),r.value=s-1>-1?e[s-1]:null,c.value=s+1<e.length?e[s+1]:null,f.value=JSON.parse(JSON.stringify(w)).find(n=>n.key===o.key)};L(k(),e=>{o=e.query,_()},{deep:!0});const y=e=>{m.push({path:"/newsDtl",query:{key:o.key,id:e.id}})},N=()=>{m.push("/news")},C=()=>{m.push({path:"/newsMore",query:{key:o.key}})};return S().then(e=>{w=E(e||[]),_()}),(e,s)=>{var g;const n=x("loading");return M((l(),a("div",V,[t("div",j,[t("div",{class:"news-dtl-nav-item",onClick:N},d(e.$t("news")),1),s[2]||(s[2]=t("span",{class:"news-dtl-nav-icon"},">",-1)),t("div",{class:"news-dtl-nav-item",onClick:C},d(((g=f.value)==null?void 0:g.title)||"--"),1),s[3]||(s[3]=t("span",{class:"news-dtl-nav-icon"},">",-1)),t("div",Q,d(e.$t("detail")),1)]),t("div",z,[i.value?(l(),a(h,{key:0},[t("div",A,[t("div",G,d(i.value.title||"--"),1),t("div",K," 发布时间："+d(I.value(i.value.publishDate)),1)]),t("div",U,[i.value.imgSrc?(l(),a("div",W,[t("img",{class:"news-dtl-content-header-img",src:i.value.imgSrc,alt:""},null,8,X)])):v("",!0),(l(!0),a(h,null,$(i.value.content,p=>(l(),a("p",{innerHTML:p},null,8,Y))),256))]),r.value||c.value?(l(),a("div",Z,[r.value?(l(),a("div",ee,[s[4]||(s[4]=t("div",{class:"news-dtl-item-label"},"上一条：",-1)),t("div",{onClick:s[0]||(s[0]=p=>y(r.value)),class:"news-dtl-item-value"},d(r.value.title),1)])):v("",!0),c.value?(l(),a("div",se,[s[5]||(s[5]=t("div",{class:"news-dtl-item-label"},"下一条：",-1)),t("div",{onClick:s[1]||(s[1]=p=>y(c.value)),class:"news-dtl-item-value"},d(c.value.title),1)])):v("",!0)])):v("",!0)],64)):(l(),B(H,{key:1}))])])),[[n,O(D)]])}}}),re=F(te,[["__scopeId","data-v-ad5c92f9"]]);export{re as default};
